(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{253:function(e,t,a){e.exports=a.p+"static/media/logo.a1a8dd57.png"},292:function(e,t,a){"use strict";var n=a(30),r=a(27),s=a(55),l=a(53),o=a(56),c=a(41),i=a(83),m=a(0),d=a.n(m),u=a(24),p=a(57),h=a.n(p),g=function(e){e?h.a.defaults.headers.common.Authorization=e:delete h.a.defaults.headers.common.Authorization},b=a(150),f=a.n(b),E=function(e){return{type:"SET_CURRENT_USER",payload:e}},v=function(){return function(e){localStorage.removeItem("jwtToken"),g(!1),e(E({}))}},N=a(16),w=a(612),x=a(613),y=a(163),O=a(608),j=a(614),k=a(256),C=a.n(k),S=a(607),D=a(602),T=a(588),Y=a(253),A=a.n(Y),R=a(615),M=a(606),U=a(589),_=function(){var e=Object(u.c)(),t=Object(u.d)(function(e){return e.auth}),a=t.user,n=Object(m.useState)(null),r=Object(N.a)(n,2),s=r[0],l=r[1],o=Object(m.useState)(!1),c=Object(N.a)(o,2),i=c[0],p=c[1],h=Boolean(s),g=function(){l(null)},b=function(t){t.preventDefault(),e(v()),g()},f=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&p(e)}};return d.a.createElement("div",{className:"w-full"},d.a.createElement(w.a,{position:"static",className:"bg-blue-500"},d.a.createElement(x.a,{className:"flex justify-between"},d.a.createElement("div",{className:"flex items-center"},d.a.createElement(j.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",className:"mr-2",onClick:f(!0)},d.a.createElement(C.a,null)),d.a.createElement("img",{src:A.a,alt:"logo",className:"h-10 mr-2"}),d.a.createElement(y.a,{variant:"h6",component:"div",className:"text-white"},"\u05e9\u05dd \u05d4\u05d7\u05d1\u05e8\u05d4")),d.a.createElement("div",{className:"flex items-center"},t.isAuthenticated?d.a.createElement(d.a.Fragment,null,d.a.createElement(j.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit"},d.a.createElement(T.a,null)),d.a.createElement(D.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:g},d.a.createElement(S.a,{onClick:b},"\u05d4\u05ea\u05e0\u05ea\u05e7 (",a.name,")"))):d.a.createElement(O.a,{color:"inherit",className:"text-white"},"Login")))),d.a.createElement("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 transition-opacity ".concat(i?"opacity-100":"opacity-0 pointer-events-none"),onClick:f(!1)},d.a.createElement("div",{className:"fixed top-0 left-0 h-full w-64 bg-white shadow-lg transform transition-transform ".concat(i?"translate-x-0":"-translate-x-full")},d.a.createElement(R.a,null,t.isAuthenticated?d.a.createElement(M.a,{button:!0,onClick:b},d.a.createElement(U.a,{primary:"\u05d4\u05ea\u05e0\u05ea\u05e7 (".concat(a.name,")")})):d.a.createElement(M.a,{button:!0},d.a.createElement(U.a,{primary:"Login"}))))))},P=a(89),I=a(151),F=function(){var e=Object(u.c)();Object(u.d)(function(e){return e.auth});return d.a.createElement("div",{className:"border-right h-100",id:"sidebar-wrapper"},d.a.createElement("div",{className:"list-group list-group-flush"},d.a.createElement(c.b,{to:"/dashboard",className:"list-group-item list-group-item-action"},"Dashboard"),d.a.createElement(c.b,{to:"/users",className:"list-group-item list-group-item-action"},"Users"),d.a.createElement(c.b,{to:"/events",className:"list-group-item list-group-item-action"},"Events"),d.a.createElement("button",{className:"list-group-item list-group-item-action",onClick:function(t){t.preventDefault(),e(v())}},"Logout ",d.a.createElement(P.a,{icon:I.b}))))},L=a(259),H=a(260),W=function(){Object(u.c)(),Object(u.d)(function(e){return e.auth});return d.a.createElement("div",null,d.a.createElement(_,null),d.a.createElement("div",{className:"d-flex",id:"wrapper"},d.a.createElement("div",{id:"page-content-wrapper"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("button",{className:"btn btn-link mt-2",id:"menu-toggle"},d.a.createElement(P.a,{icon:L.faList})),d.a.createElement("h1",{className:"mt-2 text-primary"},"Dashboard"),d.a.createElement("div",{className:"row px-2"},d.a.createElement("div",{className:"col-sm-3 p-sm-2"},d.a.createElement("div",{className:"card bg-primary text-white shadow-lg"},d.a.createElement("div",{className:"card-body"},d.a.createElement("h5",{className:"card-title"},"Users"),d.a.createElement("p",{className:"card-text"},"With supporting text below as a natural lead-in to additional content."),d.a.createElement(c.b,{to:"/users",className:"btn btn-light"},d.a.createElement(P.a,{className:"text-primary",icon:H.faUserAlt})," Go to Users")))),d.a.createElement("div",{className:"col-sm-3 p-sm-2"},d.a.createElement("div",{className:"card bg-secondary text-white shadow-lg"},d.a.createElement("div",{className:"card-body"},d.a.createElement("h5",{className:"card-title"},"Special title treatment"),d.a.createElement("p",{className:"card-text"},"With supporting text below as a natural lead-in to additional content."),d.a.createElement("a",{href:"#",className:"btn btn-light"},"Go somewhere")))),d.a.createElement("div",{className:"col-sm-3 p-sm-2"},d.a.createElement("div",{className:"card bg-info text-white shadow-lg"},d.a.createElement("div",{className:"card-body"},d.a.createElement("h5",{className:"card-title"},"Special title treatment"),d.a.createElement("p",{className:"card-text"},"With supporting text below as a natural lead-in to additional content."),d.a.createElement("a",{href:"#",className:"btn btn-light"},"Go somewhere")))),d.a.createElement("div",{className:"col-sm-3 p-sm-2"},d.a.createElement("div",{className:"card bg-dark text-white shadow-lg"},d.a.createElement("div",{className:"card-body"},d.a.createElement("h5",{className:"card-title"},"Special title treatment"),d.a.createElement("p",{className:"card-text"},"With supporting text below as a natural lead-in to additional content."),d.a.createElement("a",{href:"#",className:"btn btn-light"},"Go somewhere")))))))))},G=a(7),V=a(28),z=a.n(V),B=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this))).onChange=function(t){e.setState(Object(G.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.state={email:"",password:"",errors:{}},e}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row mt-5"},d.a.createElement("div",{className:"col-md-4 mx-auto mt-5 card shadow-lg"},d.a.createElement("div",{className:"card-body p-1"},d.a.createElement("h2",{className:"text-center text-primary mt-3"},"Login"),d.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,className:"white"},d.a.createElement("label",{htmlFor:"email"},"Email"),d.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:z()("form-control",{invalid:e.email})}),d.a.createElement("span",{className:"text-danger"},e.email),d.a.createElement("br",null),d.a.createElement("label",{htmlFor:"password"},"Password"),d.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:z()("form-control",{invalid:e.password})}),d.a.createElement("span",{className:"text-danger"},e.password),d.a.createElement("p",{className:"text-center pb-0 mt-2"},d.a.createElement("button",{type:"submit",className:"btn btn-large btn-primary mt-2 px-5"},"Login")))))))}}]),t}(m.Component),Z=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){h.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),g(a);var n=f()(a);t(E(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(B),J=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return console.log("not found"),d.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col s12 center-align"},d.a.createElement("h1",null,"Not Found"))))}}]),t}(m.Component),$=a(261),Q=Object(u.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object($.a)(e,["component","auth"]);return d.a.createElement(i.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?d.a.createElement(t,e):d.a.createElement(i.a,{to:"/login"})}}))}),q=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this))).onChange=function(t){e.setState(Object(G.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col s8 offset-s2"},d.a.createElement(c.b,{to:"/",className:"btn-flat waves-effect"},d.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),d.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},d.a.createElement("h4",null,d.a.createElement("b",null,"Register")," below"),d.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",d.a.createElement(c.b,{to:"/login"},"Log in"))),d.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("input",{onChange:this.onChange,value:this.state.name,id:"name",type:"text",error:e.name,className:z()("",{invalid:e.name})}),d.a.createElement("label",{htmlFor:"name"},"Name"),d.a.createElement("span",{className:"red-text"},e.name)),d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:z()("",{invalid:e.email})}),d.a.createElement("label",{htmlFor:"email"},"Email"),d.a.createElement("span",{className:"red-text"},e.email)),d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:z()("",{invalid:e.password})}),d.a.createElement("label",{htmlFor:"password"},"Password"),d.a.createElement("span",{className:"red-text"},e.password)),d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("input",{onChange:this.onChange,value:this.state.password2,id:"password2",type:"password",className:z()("",{invalid:e.password2})}),d.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),d.a.createElement("span",{className:"red-text"},e.password2)),d.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},d.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign up"))))))}}]),t}(m.Component),K=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){h.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(i.g)(q)),X=a(78),ee=a(262),te=a(44),ae=a(368),ne={isAuthenticated:!1,user:{},loading:!1},re={},se=Object(X.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ADD":case"USER_UPDATE":return{isAuthenticated:!ae(t.payload),user:t.payload};case"SET_CURRENT_USER":return Object(te.a)({},e,{isAuthenticated:!ae(t.payload),user:t.payload});case"USER_LOADING":return Object(te.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),le=[ee.a],oe=Object(X.e)(se,{},Object(X.d)(X.a.apply(void 0,le))),ce=(a(369),a(370),a(371),a(373),a(374),a(375),a(376),a(263)),ie=a.n(ce),me=a(62),de=(a(222),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.onUserAdd=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,password:a.state.password,password2:a.state.password2};a.props.addUser(t,a.props.history)},a.state={name:"",email:"",password:"",password2:"",errors:{}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.auth.user&&e.auth.user.data&&e.auth.user.data.message&&(Object(me.b)(e.auth.user.data.message,{position:me.b.POSITION.TOP_CENTER}),this.props.handleClose())}},{key:"render",value:function(){var e=this.state.errors;return d.a.createElement("div",{className:"modal ".concat(this.props.show?"show":""),id:"add-user-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"addUserModalLabel",style:{display:this.props.show?"block":"none"}},d.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},d.a.createElement("div",{className:"modal-content"},d.a.createElement("div",{className:"modal-header"},d.a.createElement("h5",{className:"modal-title",id:"addUserModalLabel"},"Add User"),d.a.createElement("button",{type:"button",className:"close",onClick:this.props.handleClose,"aria-label":"Close"},d.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),d.a.createElement("div",{className:"modal-body"},d.a.createElement("form",{noValidate:!0,onSubmit:this.onUserAdd,id:"add-user"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"name"},"Name"),d.a.createElement("input",{onChange:this.onChange,value:this.state.name,id:"name",type:"text",className:z()("form-control",{invalid:e.name})}),d.a.createElement("span",{className:"text-danger"},e.name)),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"email"},"Email"),d.a.createElement("input",{onChange:this.onChange,value:this.state.email,id:"email",type:"email",className:z()("form-control",{invalid:e.email})}),d.a.createElement("span",{className:"text-danger"},e.email)),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"password"},"Password"),d.a.createElement("input",{onChange:this.onChange,value:this.state.password,id:"password",type:"password",className:z()("form-control",{invalid:e.password})}),d.a.createElement("span",{className:"text-danger"},e.password)),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),d.a.createElement("input",{onChange:this.onChange,value:this.state.password2,id:"password2",type:"password",className:z()("form-control",{invalid:e.password2})}),d.a.createElement("span",{className:"text-danger"},e.password2)))),d.a.createElement("div",{className:"modal-footer"},d.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.props.handleClose},"Close"),d.a.createElement("button",{form:"add-user",type:"submit",className:"btn btn-primary",onClick:this.onUserAdd},"Add User")))))}}]),t}(m.Component)),ue=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{addUser:function(e,t){return function(t){h.a.post("/api/users/user-add",e).then(function(e){return t({type:"USER_ADD",payload:e})}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(i.g)(de)),pe=a(51),he=a.n(pe),ge=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){"user-update-name"===e.target.id&&a.setState({name:e.target.value}),"user-update-email"===e.target.id&&a.setState({email:e.target.value}),"user-update-password"===e.target.id&&a.setState({password:e.target.value})},a.onUserUpdate=function(e){e.preventDefault();var t={_id:a.state.id,name:a.state.name,email:a.state.email,password:a.state.password};a.props.updateUser(t)},a.state={id:a.props.record.id,name:a.props.record.name,email:a.props.record.email,password:"",errors:{}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.record&&this.setState({id:e.record.id,name:e.record.name,email:e.record.email}),e.errors&&this.setState({errors:e.errors}),void 0!==e.auth&&void 0!==e.auth.user&&void 0!==e.auth.user.data&&void 0!==e.auth.user.data.message&&e.auth.user.data.success&&(he()("#update-user-modal").modal("hide"),Object(me.b)(e.auth.user.data.message,{position:me.b.POSITION.TOP_CENTER}))}},{key:"render",value:function(){var e=this.state.errors;return d.a.createElement("div",null,d.a.createElement("div",{className:"modal fade",id:"update-user-modal"},d.a.createElement("div",{className:"modal-dialog modal-lg"},d.a.createElement("div",{className:"modal-content"},d.a.createElement("div",{className:"modal-header"},d.a.createElement("h4",{className:"modal-title"},"Update User"),d.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),d.a.createElement("div",{className:"modal-body"},d.a.createElement("form",{noValidate:!0,onSubmit:this.onUserUpdate,id:"update-user"},d.a.createElement("input",{onChange:this.onChange,value:this.state.id,id:"user-update-id",type:"text",className:"d-none"}),d.a.createElement("div",{className:"row mt-2"},d.a.createElement("div",{className:"col-md-3"},d.a.createElement("label",{htmlFor:"name"},"Name")),d.a.createElement("div",{className:"col-md-9"},d.a.createElement("input",{onChange:this.onChange,value:this.state.name,id:"user-update-name",type:"text",error:e.name,className:z()("form-control",{invalid:e.name})}),d.a.createElement("span",{className:"text-danger"},e.name))),d.a.createElement("div",{className:"row mt-2"},d.a.createElement("div",{className:"col-md-3"},d.a.createElement("label",{htmlFor:"email"},"Email")),d.a.createElement("div",{className:"col-md-9"},d.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"user-update-email",type:"email",className:z()("form-control",{invalid:e.email})}),d.a.createElement("span",{className:"text-danger"},e.email))),d.a.createElement("div",{className:"row mt-2"},d.a.createElement("div",{className:"col-md-3"},d.a.createElement("label",{htmlFor:"password"},"Password")),d.a.createElement("div",{className:"col-md-9"},d.a.createElement("input",{"data-reset-input":!0,autoComplete:"",onChange:this.onChange,error:e.password,id:"user-update-password",type:"password",className:z()("form-control",{invalid:e.password})}),d.a.createElement("span",{className:"text-danger"},e.password))))),d.a.createElement("div",{className:"modal-footer"},d.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),d.a.createElement("button",{form:"update-user",type:"submit",className:"btn btn-primary"},"Update User"))))))}}]),t}(d.a.Component),be=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{updateUser:function(e){return function(t){h.a.post("/api/users/user-update",e).then(function(e){return t({type:"USER_UPDATE",payload:e})}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(i.g)(ge)),fe=function(){Object(u.d)(function(e){return e.auth}),Object(u.c)();var e=[{key:"_id",text:"\u05de\u05d6\u05d4\u05d4",className:"id",align:"center",sortable:!0},{key:"name",text:"\u05e9\u05dd",className:"name",align:"center",sortable:!0},{key:"email",text:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",className:"email",align:"center",sortable:!0},{key:"date",text:"\u05ea\u05d0\u05e8\u05d9\u05da",className:"date",align:"center",sortable:!0},{key:"action",text:"\u05e4\u05e2\u05d5\u05dc\u05d4",className:"action",width:100,align:"center",sortable:!1,cell:function(e){return d.a.createElement(m.Fragment,null,d.a.createElement("button",{"data-toggle":"modal","data-target":"#update-user-modal",className:"btn btn-primary btn-sm",onClick:function(){return p(e)},style:{marginLeft:"5px"}},d.a.createElement("i",{className:"fa fa-edit"})),d.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return g(e)}},d.a.createElement("i",{className:"fa fa-trash"})))}}],t=Object(m.useState)([]),a=Object(N.a)(t,2),n=a[0],r=a[1],s=Object(m.useState)({id:"",name:"",email:"",password:"",password2:""}),l=Object(N.a)(s,2),o=l[0],c=l[1];Object(m.useEffect)(function(){i()},[]);var i=function(){h.a.post("/api/users/user-data").then(function(e){r(e.data)}).catch(function(e){console.error(e)})},p=function(e){c(e)},g=function(e){h.a.post("/api/users/user-delete",{_id:e._id}).then(function(e){200===e.status&&(Object(me.b)(e.data.message,{position:me.b.POSITION.TOP_CENTER}),i())}).catch(function(e){console.error(e)})};return d.a.createElement("div",null,d.a.createElement(_,null),d.a.createElement("div",{className:"d-flex",id:"wrapper"},d.a.createElement(F,null),d.a.createElement(ue,null),d.a.createElement(be,{record:o}),d.a.createElement("div",{id:"page-content-wrapper",dir:"rtl"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("button",{className:"btn btn-outline-primary float-left mt-3 ml-2","data-toggle":"modal","data-target":"#add-user-modal"},d.a.createElement(P.a,{icon:I.a})," \u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05ea\u05de\u05e9"),d.a.createElement("h1",{className:"mt-2 text-primary"},"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"),d.a.createElement(ie.a,{config:{page_size:10,length_menu:[10,20,50],filename:"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd",no_data_text:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd!",button:{excel:!0,print:!0,csv:!0},language:{length_menu:"\u05d4\u05e6\u05d2 _MENU_ \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d1\u05db\u05dc \u05d3\u05e3",filter:"\u05e1\u05e0\u05df \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea...",info:"\u05de\u05e6\u05d9\u05d2 _START_ \u05e2\u05d3 _END_ \u05de\u05ea\u05d5\u05da _TOTAL_ \u05e8\u05e9\u05d5\u05de\u05d5\u05ea",pagination:{first:"\u05e8\u05d0\u05e9\u05d5\u05df",previous:"\u05e7\u05d5\u05d3\u05dd",next:"\u05d4\u05d1\u05d0",last:"\u05d0\u05d7\u05e8\u05d5\u05df"}},show_length_menu:!0,show_filter:!0,show_pagination:!0,show_info:!0},records:n,columns:e,onPageChange:function(e){console.log("OnPageChange",e)}}))),d.a.createElement(me.a,null)))},Ee=a(54),ve=a(43),Ne=a.n(ve),we=a(69),xe=a(598),ye=a(592),Oe=a(609),je=a(599),ke=a(600),Ce=a(603),Se=a(601),De=a(198),Te=a(38),Ye=a.n(Te),Ae=(a(498),a(590)),Re=a(594),Me=a(595),Ue=a(596),_e=a(597),Pe=Object(Ae.a)(function(e){var t;return t={width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:"70vh"},Object(G.a)(t,e.breakpoints.down("sm"),{maxHeight:"60vh"}),Object(G.a)(t,"modal",{transition:"all 0.5s ease-in-out"}),t}),Ie=function(e){var t=new Date(e),a=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();return"".concat(a,"/").concat(n,"-").concat(r)},Fe=function(e){var t=e.event,a=e.onClose,n=function(){var e=Object(we.a)(Ne.a.mark(function e(a){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("YOUR_ENDPOINT/".concat(t.id,"/status"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})});case 3:if(e.sent.ok){e.next=6;break}throw new Error("Network response was not ok.");case 6:alert("\u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05ea\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to update event status:",e.t0),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05ea\u05d5\u05e8");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}();if(!t)return null;var r=function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return d.a.createElement("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",id:"my-modal"},d.a.createElement("div",{className:"relative top-20 mx-auto pb-5 px-5 border w-96 shadow-lg rounded-md bg-white"},d.a.createElement("div",{className:""},d.a.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-3 mb-2 text-center"},t.title),d.a.createElement("div",{className:"mt-3 text-right"},d.a.createElement("div",{className:"mt-2 px-1 py-3"},d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05ea\u05d9\u05d0\u05d5\u05e8:")," ",t.description),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05ea\u05d0\u05e8\u05d9\u05da:")," ",new Date(t.date).toLocaleDateString()," (",function(e){var t=new Date,a=new Date(e).getTime()-t.getTime(),n=Math.ceil(a/864e5);return n>0?"\u05d1\u05e2\u05d5\u05d3 ".concat(n," \u05d9\u05de\u05d9\u05dd"):n<0?"\u05dc\u05e4\u05e0\u05d9 ".concat(Math.abs(n)," \u05d9\u05de\u05d9\u05dd"):"\u05d4\u05d9\u05d5\u05dd"}(t.date),")"),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4:")," ",r(t.startTime)," "),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd:")," ",r(t.endTime)),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05e9\u05dd \u05d4\u05dc\u05e7\u05d5\u05d7:")," ",t.customerName),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05d8\u05dc\u05e4\u05d5\u05df \u05d4\u05dc\u05e7\u05d5\u05d7:"),d.a.createElement("a",{href:"tel:".concat(t.customerPhone),style:{marginRight:"8px"}},t.customerPhone),d.a.createElement("a",{href:"https://wa.me/".concat(t.customerPhone),target:"_blank",style:{display:"inline-block"}},d.a.createElement("img",{src:"https://cdn-icons-png.flaticon.com/256/174/174879.png",alt:"WhatsApp",style:{width:"24px",verticalAlign:"middle"},className:"mx-2"}))),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05de\u05d9\u05e7\u05d5\u05dd:"),d.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(t.location)),target:"_blank",rel:"noopener noreferrer"},t.location)),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05e9\u05d9\u05e8\u05d5\u05ea\u05d9\u05dd:")," ",t.services.join(", "))),d.a.createElement(function(){return d.a.createElement("div",{className:"mt-4"},d.a.createElement("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700"},"\u05e2\u05d3\u05db\u05df \u05e1\u05d8\u05d8\u05d5\u05e1:"),d.a.createElement("select",{id:"status",name:"status",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",defaultValue:"",onChange:function(e){return n(e.target.value)}},d.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05e1\u05d8\u05d8\u05d5\u05e1..."),d.a.createElement("option",{value:"\u05de\u05d0\u05d5\u05e9\u05e8"},"\u05de\u05d0\u05d5\u05e9\u05e8"),d.a.createElement("option",{value:"\u05de\u05d1\u05d5\u05d8\u05dc"},"\u05de\u05d1\u05d5\u05d8\u05dc"),d.a.createElement("option",{value:"\u05d1\u05d4\u05de\u05ea\u05e0\u05d4"},"\u05d1\u05d4\u05de\u05ea\u05e0\u05d4")))},null),d.a.createElement("div",{className:"flex flex-col items-center px-4 py-3"},d.a.createElement("button",{onClick:a,className:"px-4 py-2 bg-gray-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 mb-2"},"\u05e1\u05d2\u05d5\u05e8"),d.a.createElement("a",{href:function(){var e="\u05e9\u05dc\u05d5\u05dd ".concat(t.customerName,", \u05d4\u05e0\u05d4 \u05e4\u05e8\u05d8\u05d9 \u05d4\u05ea\u05d5\u05e8 \u05e9\u05dc\u05da:%0A\u05ea\u05d9\u05d0\u05d5\u05e8: ").concat(t.description,"%0A\u05ea\u05d0\u05e8\u05d9\u05da: ").concat(new Date(t.date).toLocaleDateString(),"%0A\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4: ").concat(r(t.startTime),"%0A\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd: ").concat(r(t.endTime),"%0A\u05de\u05d9\u05e7\u05d5\u05dd: ").concat(t.location,"%0A\u05e9\u05d9\u05e8\u05d5\u05ea\u05d9\u05dd: ").concat(t.services.join(", "));return"https://wa.me/972".concat(t.customerPhone,"?text=").concat(e)}(),target:"_blank",rel:"noopener noreferrer"},d.a.createElement("button",{className:"px-4 py-2 bg-green-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-300"},"\u05e9\u05dc\u05d7 \u05e4\u05e8\u05d8\u05d9 \u05ea\u05d5\u05e8 \u05d1-WhatsApp")))))))},Le=function(e){var t=e.events,a=Pe(),n=Object(m.useState)(null),r=Object(N.a)(n,2),s=r[0],l=r[1];return d.a.createElement("div",{className:"p-3"},d.a.createElement(ye.a,{className:a.listRoot},d.a.createElement(Re.a,{component:"nav","aria-label":"events list"},t.map(function(e,a){return d.a.createElement(d.a.Fragment,{key:a},d.a.createElement(Me.a,{button:!0,style:{textAlign:"right"},onClick:function(){return function(e){l(e)}(e)}},d.a.createElement(Ue.a,{primary:e.title,secondary:"\u05de\u05ea\u05d7\u05d9\u05dc: ".concat(Ie(e.startTime)," \u05e2\u05d3: ").concat(Ie(e.endTime))})),a<t.length-1&&d.a.createElement(_e.a,null))}))),d.a.createElement(Fe,{event:s,onClose:function(){return l(null)}}))};a(500),Ye.a.locale("he");var He=Object(De.b)(Ye.a),We={allDay:"\u05db\u05dc \u05d4\u05d9\u05d5\u05dd",previous:"\u05e7\u05d5\u05d3\u05dd",next:"\u05d4\u05d1\u05d0",today:"\u05d4\u05d9\u05d5\u05dd",month:"\u05d7\u05d5\u05d3\u05e9",week:"\u05e9\u05d1\u05d5\u05e2",day:"\u05d9\u05d5\u05dd",agenda:"\u05e1\u05d3\u05e8 \u05d9\u05d5\u05dd",date:"\u05ea\u05d0\u05e8\u05d9\u05da",time:"\u05e9\u05e2\u05d4",event:"\u05d0\u05d9\u05e8\u05d5\u05e2"},Ge=function(){var e=Object(m.useState)([]),t=Object(N.a)(e,2),a=t[0],n=t[1],r=Object(m.useState)(!1),s=Object(N.a)(r,2),l=s[0],o=s[1],c=Object(m.useState)({title:"",start:"",end:""}),i=Object(N.a)(c,2),u=i[0],p=i[1],h=function(){var e=Object(we.a)(Ne.a.mark(function e(){var t,a,r;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/events/month");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r=a.map(function(e){return Object(te.a)({},e,{title:"\u05d8\u05d9\u05e4\u05d5\u05dc \u05e9\u05dc ".concat(e.customerName)})}),n(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching events:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),g=function(){o(!0)},b=function(){o(!1)};return Object(m.useEffect)(function(){h()},[]),d.a.createElement(d.a.Fragment,null,d.a.createElement(_,null),d.a.createElement("div",{className:"block md:hidden"},d.a.createElement(xe.a,{variant:"contained",color:"primary",className:"m-4",onClick:g},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05e8\u05d5\u05e2")),d.a.createElement("div",{className:"flex flex-col sm:flex-row-reverse p-3"},d.a.createElement("div",{className:"md:w-1/3 w-full p-3"},d.a.createElement(Le,{events:a})),d.a.createElement(ye.a,{className:"md:w-2/3 w-full p-3 mt-4 md:mt-0"},d.a.createElement("div",{className:"hidden md:block"},d.a.createElement(xe.a,{variant:"contained",color:"primary",className:"m-4",onClick:g},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05e8\u05d5\u05e2")),d.a.createElement(De.a,{localizer:He,events:a.map(function(e){return Object(te.a)({},e,{title:e.title,start:new Date(e.startTime),end:new Date(e.endTime)})}),messages:We,startAccessor:"start",endAccessor:"end",style:{height:500},rtl:!0,onShowMore:function(e,t){console.log("\u05d0\u05d9\u05e8\u05d5\u05e2\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd:",e),console.log("\u05ea\u05d0\u05e8\u05d9\u05da:",t)}}))),d.a.createElement(Oe.a,{open:l,onClose:b,scroll:"body",maxWidth:!1,fullWidth:!0,dir:"rtl",PaperProps:{style:{maxWidth:"100%",width:"auto",maxHeight:"calc(100% - 64px)",overflowY:"auto"}}},d.a.createElement(je.a,{className:"text-right"},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05e8\u05d5\u05e2 \u05d7\u05d3\u05e9"),d.a.createElement(ke.a,{className:"text-right"},d.a.createElement(Ce.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u05db\u05d5\u05ea\u05e8\u05ea \u05d0\u05d9\u05e8\u05d5\u05e2",type:"text",fullWidth:!0,value:u.title,onChange:function(e){return p(Object(te.a)({},u,{title:e.target.value}))},className:"my-2"}),d.a.createElement(Ce.a,{id:"start",label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4",type:"date",value:u.start,onChange:function(e){return p(Object(te.a)({},u,{start:e.target.value}))},className:"my-2",InputLabelProps:{shrink:!0}}),d.a.createElement(Ce.a,{id:"end",label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd",type:"date",value:u.end,onChange:function(e){return p(Object(te.a)({},u,{end:e.target.value}))},className:"my-2",InputLabelProps:{shrink:!0}})),d.a.createElement(Se.a,null,d.a.createElement(xe.a,{onClick:b,color:"primary"},"\u05d1\u05d9\u05d8\u05d5\u05dc"),d.a.createElement(xe.a,{onClick:function(){n([].concat(Object(Ee.a)(a),[Object(te.a)({},u,{start:new Date(u.start),end:new Date(u.end)})])),o(!1),p({title:"",start:"",end:""}),h()},color:"primary"},"\u05e9\u05de\u05d5\u05e8"))))},Ve=a(122),ze=function(e){var t=e.selectedDate,a=e.selectedSlot,n=e.customerDetails;e.onClose;return d.a.createElement("div",{style:{padding:"16px",marginBottom:"8px",position:"relative"}},d.a.createElement(Ve.a,{variant:"h3",align:"center",gutterBottom:!0},"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05ea\u05d5\u05e8"),d.a.createElement("div",{style:{padding:"8px 16px"}},d.a.createElement(Ve.a,{variant:"body1",align:"center",paragraph:!0},"\u05e9\u05dc\u05d5\u05dd! \u05e0\u05e4\u05d2\u05e9 \u05d1",d.a.createElement("strong",null,t)," \u05d1\u05e9\u05e2\u05d4 ",d.a.createElement("strong",null,a)," \u05dc\u05d8\u05d9\u05e4\u05d5\u05d7 \u05d1\u05e1\u05d8\u05d5\u05d3\u05d9\u05d5 \u05e9\u05dc\u05d9."),d.a.createElement(Ve.a,{variant:"body1",align:"center",paragraph:!0},"\u05e1\u05d9\u05d3\u05e8\u05e0\u05d5 \u05d8\u05d9\u05e4\u05d5\u05dc\u05d9\u05dd \u05dc",d.a.createElement("strong",null,n.services.join(", ")),".")),d.a.createElement(Ve.a,{variant:"body2",align:"center",paragraph:!0},"\u05de\u05e6\u05e4\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!"),d.a.createElement(Ve.a,{variant:"body2",align:"center",paragraph:!0},"\u05e8\u05d1\u05e7\u05d4        \u05dc\u05d2 \u05d2'\u05dc"),d.a.createElement("div",{style:{marginTop:"16px"}},d.a.createElement(Ve.a,{variant:"body2",align:"center",color:"textSecondary",paragraph:!0},d.a.createElement("em",null,"*\u05e0\u05d9\u05ea\u05df \u05d2\u05dd \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05d0\u05ea \u05d4\u05ea\u05d5\u05e8 \u05dc\u05d9\u05d5\u05de\u05df \u05e9\u05dc\u05da.")),d.a.createElement(Ve.a,{variant:"body2",align:"center",color:"textSecondary",paragraph:!0},d.a.createElement("em",null,"**\u05d1\u05d9\u05d8\u05d5\u05dc\u05d9\u05dd \u05de\u05ea\u05d0\u05e4\u05e9\u05e8\u05d9\u05dd \u05e8\u05e7 \u05d1\u05d8\u05dc\u05e4\u05d5\u05df."))))},Be=function(e){var t=e.showModal,a=e.setShowModal,n=e.selectedDate,r=e.selectedSlot,s=e.handleSaveAppointment,l=e.addToGoogleCalendar,o=e.createICalEvent,c=e.customerDetails,i=e.setCustomerDetails,u=e.services,p=Object(m.useState)(!1),h=Object(N.a)(p,2),g=h[0],b=h[1],f=Object(m.useState)(!0),E=Object(N.a)(f,2),v=E[0],w=E[1],x=function(){var e=Object(we.a)(Ne.a.mark(function e(){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:b(!0);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=c.name&&c.phone&&c.services.length>0;return d.a.createElement("div",{className:"fixed inset-0 z-10 overflow-hidden flex items-center justify-center ".concat(t?"block":"hidden"," "),dir:"rtl"},d.a.createElement("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),d.a.createElement("div",{className:"bg-white rounded-lg text-right overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full"},d.a.createElement("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 relative"},d.a.createElement("button",{type:"button",className:"absolute top-0 right-0 m-2 p-2 text-gray-400 hover:text-gray-500",onClick:function(){return a(!1)}},d.a.createElement("span",{className:"sr-only"},"\u05e1\u05d2\u05d5\u05e8"),d.a.createElement("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},d.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),g?d.a.createElement(d.a.Fragment,null,d.a.createElement(ze,{customerDetails:c,selectedDate:n,selectedSlot:r})):d.a.createElement("div",{className:"sm:flex sm:items-start"},d.a.createElement("div",{className:"mt-3 text-center sm:mt-0 sm:text-right w-full"},d.a.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4"},"\u05d1\u05d7\u05e8 \u05e9\u05d9\u05e8\u05d5\u05ea\u05d9\u05dd"),d.a.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4"},"\u05ea\u05d5\u05e8 \u05d1\u05ea\u05d0\u05e8\u05d9\u05da ",n," \u05d1\u05e9\u05e2\u05d4 ",r),d.a.createElement("div",{className:"mb-4"},d.a.createElement("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 mb-1"},"\u05e9\u05dd \u05d4\u05dc\u05e7\u05d5\u05d7"),d.a.createElement("input",{type:"text",id:"customerName",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:c.name,onChange:function(e){return i(function(t){return Object(te.a)({},t,{name:e.target.value})})}})),d.a.createElement("div",{className:"mb-4"},d.a.createElement("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-700 mb-1"},"\u05d8\u05dc\u05e4\u05d5\u05df \u05d4\u05dc\u05e7\u05d5\u05d7"),d.a.createElement("input",{type:"tel",id:"customerPhone",pattern:"^\\d{9}$",title:"\u05de\u05e1\u05e4\u05e8 \u05d4\u05d8\u05dc\u05e4\u05d5\u05df \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d1\u05d3\u05d9\u05d5\u05e7 9 \u05e1\u05e4\u05e8\u05d5\u05ea.",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:c.phone,onChange:function(e){var t=e.target.value;/^\d*$/.test(t)?(w(!0),i(function(e){return Object(te.a)({},e,{phone:t.slice(0,9)})})):w(!1)}}),d.a.createElement("p",{className:"text-red-500 ".concat(v?"hidden ":"block")},"\u05d0\u05e0\u05d0 \u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05ea\u05e7\u05d9\u05df")),d.a.createElement("div",{className:"grid grid-cols-2 gap-6"},u.map(function(e){return d.a.createElement("div",{key:e,className:"flex items-center space-x-2"},d.a.createElement("input",{id:e,type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:c.services.includes(e),onChange:function(){return function(e){i(function(t){return Object(te.a)({},t,{services:t.services.includes(e)?t.services.filter(function(t){return t!==e}):[].concat(Object(Ee.a)(t.services),[e])})})}(e)}}),d.a.createElement("label",{htmlFor:e,className:"block text-sm text-gray-900",style:{paddingLeft:"8px"}},e))}))))),g?d.a.createElement("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},d.a.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-indigo-600 shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm mx-2",onClick:l},"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05d9\u05d5\u05de\u05df \u05d2\u05d5\u05d2\u05dc"),d.a.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-indigo-600 shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm mx-2",onClick:o},"\u05d4\u05d5\u05e8\u05d3 ICAL")):d.a.createElement("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},d.a.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md shadow-sm px-4 py-2 text-base font-medium sm:mt-0 sm:w-auto sm:text-sm mx-1 ".concat(y?"border-indigo-600 bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500":"border-gray-300 bg-gray-200 text-gray-500 cursor-not-allowed"),onClick:x},"\u05e9\u05de\u05d5\u05e8 \u05ea\u05d5\u05e8"),d.a.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm mx-1",onClick:function(){return a(!1)}},"\u05d1\u05d8\u05dc"))))},Ze=a(162),Je=function(){return d.a.createElement("header",{className:"bg-blue-600 text-white py-4 shadow-md"},d.a.createElement("div",{className:"container mx-auto flex justify-between items-center"},d.a.createElement("div",{className:"flex justify-end items-start flex-col"},d.a.createElement("span",{className:"flex items-center"},d.a.createElement("img",{src:"".concat("","/flowMatic3.png"),alt:"Logo",className:"h-10 w-10 mr-2"}),d.a.createElement("h1",{className:"text-2xl font-bold m-0 p-0"},"FlowMatic")),d.a.createElement("p",{className:"italic mx-5"},"\u05e0\u05d9\u05d4\u05d5\u05dc \u05ea\u05d5\u05e8\u05d9\u05dd \u05d1\u05e7\u05dc\u05d9\u05e7"))))},$e=function(){return d.a.createElement("footer",{className:"fixed bottom-0 bg-gray-800 text-white p-4 mt-8 w-full"},d.a.createElement("div",{className:"container mx-auto text-center"},d.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," \u05de\u05ea\u05d6\u05de\u05df \u05e4\u05d2\u05d9\u05e9\u05d5\u05ea \u05e9\u05dc flowMatic. \u05db\u05dc \u05d4\u05d6\u05db\u05d5\u05d9\u05d5\u05ea \u05e9\u05de\u05d5\u05e8\u05d5\u05ea."),d.a.createElement("p",null,"\u05e0\u05d5\u05e6\u05e8 \u05e2\u05dc \u05d9\u05d3\u05d9 \u05dc\u05d9\u05d3\u05d5\u05e8 \u05de\u05dc\u05d9\u05d7")))},Qe=function(){var e=Object(m.useMemo)(function(){var e=new Date;return e.setHours(0,0,0,0),e},[]),t=Ye()().add(1,"days").format("YYYY-MM-DD"),a=Object(m.useState)(t||""),n=Object(N.a)(a,2),r=n[0],s=n[1],l=Object(m.useState)([]),o=Object(N.a)(l,2),c=o[0],i=o[1],u=Object(m.useState)(!1),p=Object(N.a)(u,2),h=p[0],g=p[1],b=Object(m.useState)(""),f=Object(N.a)(b,2),E=f[0],v=(f[1],Object(m.useState)(null)),w=Object(N.a)(v,2),x=w[0],y=w[1],O=Object(m.useState)(!1),j=Object(N.a)(O,2),k=j[0],C=j[1],S=Object(m.useState)({name:"",phone:"",services:[]}),D=Object(N.a)(S,2),T=D[0],Y=D[1],A=Object(m.useMemo)(function(){return new Date(r)},[r]);Object(m.useEffect)(function(){r&&M(r)},[r]);var R,M=function(){var e=Object(we.a)(Ne.a.mark(function e(t){var a,n;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,fetch("/api/appointments?date=".concat(t));case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("Network response was not ok");case 7:return e.next=9,a.json();case 9:n=e.sent,U(n),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log({err:e.t0}),console.log("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05e4\u05ea \u05e4\u05e0\u05d5\u05d9\u05d5\u05ea \u05ea\u05d5\u05e8\u05d9\u05dd"),U(null);case 18:return e.prev=18,g(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[1,13,18,21]])}));return function(t){return e.apply(this,arguments)}}(),U=function(t){e.setHours(0,0,0,0);var a=new Date(r);if(a.setHours(0,0,0,0),a<=e)return i([]);i(t.availableSlots||[])},_=function(){var e=Object(we.a)(Ne.a.mark(function e(){var t;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={date:r,time:x,services:T.services,customerName:T.name,customerPhone:T.phone,description:x,startTime:Ye()("".concat(r," ").concat(x),"YYYY-MM-DD HH:mm").toISOString(),endTime:Ye()("".concat(r," ").concat(x),"YYYY-MM-DD HH:mm").add(30,"minutes").toISOString(),location:"\u05e8\u05d7\u05d5\u05d1 \u05d1\u05d9\u05e0\u05de\u05d9\u05df \u05de\u05d9\u05e0\u05e5 39, \u05e4\u05ea\u05d7 \u05ea\u05e7\u05d5\u05d5\u05d4"},e.prev=1,e.next=4,fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:if(e.sent.ok){e.next=7;break}throw new Error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05ea\u05d5\u05e8");case 7:M(r),alert("\u05d4\u05ea\u05d5\u05e8 \u05e0\u05e9\u05de\u05e8 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05ea\u05d5\u05e8");case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}();return d.a.createElement(d.a.Fragment,null,d.a.createElement(Je,{title:"\u05e7\u05d1\u05d9\u05e2\u05ea \u05ea\u05d5\u05e8"}),d.a.createElement("div",{className:"container mx-auto mt-8 text-right overflow-y-auto",dir:"rtl"},d.a.createElement("div",{className:"bg-white p-6 shadow-sm rounded-md"},d.a.createElement("div",{className:"mb-4"},d.a.createElement("label",{htmlFor:"appointment-date",className:"block text-sm font-medium text-gray-700"},"\u05d1\u05d7\u05e8 \u05ea\u05d0\u05e8\u05d9\u05da"),d.a.createElement("div",{className:"relative max-w-sm"},d.a.createElement("input",{type:"date",id:"appointment-date",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r,onChange:function(e){s(e.target.value)},min:t,defaultValue:t}))),h&&d.a.createElement("div",{className:"flex justify-center"},d.a.createElement("div",{className:"spinner-border text-primary",role:"status"},d.a.createElement("span",{className:"sr-only"},"\u05d8\u05d5\u05e2\u05df..."))),E&&d.a.createElement("div",{className:"bg-red-500 text-white font-bold rounded p-2"},E),r&&d.a.createElement("div",{class:"mt-2 py-3 px-2 mb-4 text-sm text-blue-800 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400",role:"alert"},d.a.createElement("span",{class:"font-medium"},"                       \u05d4\u05ea\u05d5\u05e8 \u05e9\u05e0\u05d1\u05d7\u05e8 \u05d4\u05d5\u05d0 \u05d1\u05ea\u05d0\u05e8\u05d9\u05da ",Ye()(r).format("DD/MM/YYYY")," - ",(R=A,new Ze.HDate(R).toString("h")))),!h&&c.length>0&&d.a.createElement("div",{className:"flex flex-wrap justify-center"},c.map(function(e){return d.a.createElement("button",{type:"button",className:"btn btn-outline-primary m-1",key:e,onClick:function(){return function(e){y(e),C(!0)}(e)}},e)}))),k&&d.a.createElement(Be,{showModal:k,setShowModal:C,selectedDate:r,selectedSlot:x,handleSaveAppointment:_,addToGoogleCalendar:function(){var e={title:"Appointment FUN",description:"Appointment on ".concat(r," at ").concat(x),startTime:Ye()("".concat(r," ").concat(x),"YYYY-MM-DD HH:mm").toISOString(),endTime:Ye()("".concat(r," ").concat(x),"YYYY-MM-DD HH:mm").add(30,"minutes").toISOString(),location:"\u05e8\u05d7\u05d5\u05d1 \u05d1\u05d9\u05e0\u05de\u05d9\u05df \u05de\u05d9\u05e0\u05e5 39, \u05e4\u05ea\u05d7 \u05ea\u05e7\u05d5\u05d5\u05d4"},t="https://calendar.google.com/calendar/render?action=TEMPLATE&text=".concat(encodeURIComponent(e.title),"&dates=").concat(Ye()(e.startTime).format("YYYYMMDDTHHmmssZ"),"/").concat(Ye()(e.endTime).format("YYYYMMDDTHHmmssZ"),"&details=").concat(encodeURIComponent(e.description),"&location=").concat(encodeURIComponent(e.location));window.open(t,"_blank")},createICalEvent:function(){var e="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Your Company//Your Product//EN\nBEGIN:VEVENT\nUID:".concat((new Date).getTime(),"@yourdomain.com\nDTSTAMP:").concat(Ye()().format("YYYYMMDDTHHmmss"),"Z\nDTSTART:").concat(Ye()("".concat(r," ").concat(x),"YYYY-MM-DD HH:mm").format("YYYYMMDDTHHmmss"),"Z\nDTEND:").concat(Ye()("".concat(r," ").concat(x),"YYYY-MM-DD HH:mm").add(30,"minutes").format("YYYYMMDDTHHmmss"),"Z\nSUMMARY:Appointment\nDESCRIPTION:Appointment on ").concat(r," at ").concat(x,"\nLOCATION:\u05e8\u05d7\u05d5\u05d1 \u05d1\u05d9\u05e0\u05de\u05d9\u05df \u05de\u05d9\u05e0\u05e5 39, \u05e4\u05ea\u05d7 \u05ea\u05e7\u05d5\u05d5\u05d4\nEND:VEVENT\nEND:VCALENDAR"),t=new Blob([e],{type:"text/calendar"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="appointment.ics",document.body.appendChild(n),n.click(),document.body.removeChild(n)},customerDetails:T,setCustomerDetails:Y,services:["\u05d2'\u05dc \u05dc\u05e6\u05d9\u05e4\u05d5\u05e8\u05e0\u05d9\u05d9\u05dd","\u05d8\u05d9\u05e4\u05d5\u05dc \u05d1\u05e6\u05d9\u05e4\u05d5\u05e8\u05e0\u05d9\u05d9\u05dd","\u05de\u05e0\u05d9\u05e7\u05d5\u05e8","\u05e4\u05d3\u05d9\u05e7\u05d5\u05e8","\u05d4\u05e1\u05e8\u05ea \u05e9\u05e2\u05e8 \u05d1\u05e9\u05e2\u05d5\u05d5\u05d4","\u05d8\u05d9\u05e4\u05d5\u05dc \u05e4\u05e0\u05d9\u05dd","\u05e2\u05d9\u05e6\u05d5\u05d1 \u05d2\u05d1\u05d5\u05ea","\u05d0\u05e7\u05e1\u05d8\u05e0\u05e9\u05e0\u05d6 \u05dc\u05e8\u05d9\u05e1\u05d9\u05dd","\u05d8\u05d9\u05e4\u05d5\u05dc \u05d1\u05e7\u05e8\u05d8\u05d9\u05df \u05dc\u05e9\u05d9\u05e2\u05e8","\u05de\u05e1\u05d0\u05d6 \u05e8\u05d2\u05dc\u05d9\u05d9\u05dd"]})),d.a.createElement($e,null))};if(localStorage.jwtToken){var qe=localStorage.jwtToken;g(qe);var Ke=f()(qe);oe.dispatch(E(Ke));var Xe=Date.now()/1e3;Ke.exp<Xe&&(oe.dispatch(v()),window.location.href="./login")}var et=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return d.a.createElement(u.a,{store:oe},d.a.createElement(c.a,null,d.a.createElement("div",{className:"App",dir:"rtl"},d.a.createElement(i.d,null,d.a.createElement(i.b,{exact:!0,path:"/",component:Z}),d.a.createElement(i.b,{exact:!0,path:"/register",component:K}),d.a.createElement(i.b,{exact:!0,path:"/login",component:Z}),d.a.createElement(i.b,{exact:!0,path:"/AppointmentScheduler",component:Qe}),d.a.createElement(i.d,null,d.a.createElement(Q,{exact:!0,path:"/dashboard",component:W}),d.a.createElement(Q,{exact:!0,path:"/users",component:fe}),d.a.createElement(Q,{exact:!0,path:"/events",component:Ge})),d.a.createElement(i.b,{exact:!0,path:"*",component:J})))))}}]),t}(m.Component);t.a=et},320:function(e,t,a){e.exports=a(321)},321:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),n=a.n(t),r=a(15),s=a.n(r),l=(a(327),a(292)),o=a(51),c=a.n(o);window.jQuery=c.a,window.$=c.a,e.jQuery=c.a,s.a.render(n.a.createElement(l.a,null),document.getElementById("root")),c()("#menu-toggle").click(function(){c()("#wrapper").toggleClass("toggled")}),c()('.modal[data-reset="true"]').on("shown.bs.modal",function(){return c()("input[name != 'timestamp']").val("")}),c()(".modal").on("shown.bs.modal",function(){return c()('input[data-reset-input="true"]').val("")})}.call(this,a(59))},327:function(e,t,a){},369:function(e,t,a){}},[[320,1,2]]]);
//# sourceMappingURL=main.39b179a9.chunk.js.map