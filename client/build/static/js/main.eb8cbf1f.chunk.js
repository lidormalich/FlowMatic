(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,a){"use strict";var n=a(32),r=a(20),s=a(37),l=a(36),o=a(38),c=a(12),m=a(15),i=a(0),d=a.n(i),u=a(16),p=a(13),h=function(){var e=Object(i.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],r=function(){n(!a)};return d.a.createElement("nav",{className:"bg-blue-500 p-4"},d.a.createElement("div",{className:"max-w-7xl mx-auto px-4"},d.a.createElement("div",{className:"flex justify-between items-center"},d.a.createElement("div",{className:"flex-shrink-0"},d.a.createElement(c.b,{to:"/",className:"flex items-center"},d.a.createElement("img",{className:"h-8 w-auto mr-2",src:"/path/to/your/logo.png",alt:"Logo"}),d.a.createElement("span",{className:"text-white text-xl font-bold"},"Your Company"))),d.a.createElement("div",{className:"block lg:hidden"},d.a.createElement("button",{onClick:r,className:"text-white focus:outline-none"},d.a.createElement("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},a?d.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):d.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})))),d.a.createElement("div",{className:"hidden lg:flex lg:items-center lg:w-auto"},d.a.createElement("div",{className:"flex space-x-4"},d.a.createElement(c.b,{to:"/",className:"text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium"},"Home"),d.a.createElement("div",{className:"relative"},d.a.createElement("button",{onClick:function(){return r()},className:"text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium"},"Services"),a&&d.a.createElement("div",{className:"absolute top-full left-0 mt-2 w-full bg-white rounded-lg shadow-lg z-20"},d.a.createElement(c.b,{to:"/service1",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200"},"Service 1"),d.a.createElement(c.b,{to:"/service2",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200"},"Service 2"))),d.a.createElement(c.b,{to:"/about",className:"text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium"},"About"),d.a.createElement(c.b,{to:"/contact",className:"text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium"},"Contact"))))),d.a.createElement("div",{className:"lg:hidden ".concat(a?"block":"hidden")},d.a.createElement("div",{className:"px-2 pt-2 pb-3 space-y-1"},d.a.createElement(c.b,{to:"/",className:"text-white block px-3 py-2 rounded-md text-base font-medium"},"Home"),d.a.createElement(c.b,{to:"/about",className:"text-white block px-3 py-2 rounded-md text-base font-medium"},"About"),d.a.createElement("div",{className:"relative"},d.a.createElement("button",{onClick:function(){return r()},className:"text-white block w-full text-left px-3 py-2 rounded-md text-base font-medium"},"Services"),a&&d.a.createElement("div",{className:"absolute top-0 left-0 mt-0 w-full bg-white rounded-lg shadow-lg z-20"},d.a.createElement(c.b,{to:"/service1",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200"},"Service 1"),d.a.createElement(c.b,{to:"/service2",className:"block px-4 py-2 text-gray-800 hover:bg-gray-200"},"Service 2"))),d.a.createElement(c.b,{to:"/contact",className:"text-white block px-3 py-2 rounded-md text-base font-medium"},"Contact"))))},b=a(56),g=a(98),f=a(33),E=a.n(f),v=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},N=a(99),x=a.n(N),w=function(e){return{type:"SET_CURRENT_USER",payload:e}},y=function(){return function(e){localStorage.removeItem("jwtToken"),localStorage.removeItem("user"),v(!1),e(w({}))}},O=function(){var e=Object(u.c)();Object(u.d)(function(e){return e.auth});return d.a.createElement("div",{className:"border-right h-100",id:"sidebar-wrapper"},d.a.createElement("div",{className:"list-group list-group-flush"},d.a.createElement(c.b,{to:"/dashboard",className:"list-group-item list-group-item-action"},"Dashboard"),d.a.createElement(c.b,{to:"/users",className:"list-group-item list-group-item-action"},"Users"),d.a.createElement(c.b,{to:"/events",className:"list-group-item list-group-item-action"},"Events"),d.a.createElement("button",{className:"list-group-item list-group-item-action",onClick:function(t){t.preventDefault(),e(y())}},"Logout ",d.a.createElement(b.a,{icon:g.b}))))},j=a(177),k=a(178),S=function(){Object(u.c)(),Object(u.d)(function(e){return e.auth});return d.a.createElement("div",null,d.a.createElement(h,null),d.a.createElement("div",{className:"d-flex",id:"wrapper"},d.a.createElement(O,null),d.a.createElement("div",{id:"page-content-wrapper"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("button",{className:"btn btn-link mt-2",id:"menu-toggle"},d.a.createElement(b.a,{icon:j.faList})),d.a.createElement("h1",{className:"mt-2 text-primary"},"Dashboard"),d.a.createElement("div",{className:"row px-2"},d.a.createElement("div",{className:"col-sm-3 p-sm-2"},d.a.createElement("div",{className:"card bg-primary text-white shadow-lg"},d.a.createElement("div",{className:"card-body"},d.a.createElement("h5",{className:"card-title"},"Users"),d.a.createElement("p",{className:"card-text"},"With supporting text below as a natural lead-in to additional content."),d.a.createElement(c.b,{to:"/users",className:"btn btn-light"},d.a.createElement(b.a,{className:"text-primary",icon:k.faUserAlt})," Go to Users")))),d.a.createElement("div",{className:"col-sm-3 p-sm-2"},d.a.createElement("div",{className:"card bg-secondary text-white shadow-lg"},d.a.createElement("div",{className:"card-body"},d.a.createElement("h5",{className:"card-title"},"Special title treatment"),d.a.createElement("p",{className:"card-text"},"With supporting text below as a natural lead-in to additional content."),d.a.createElement("a",{href:"#",className:"btn btn-light"},"Go somewhere")))),d.a.createElement("div",{className:"col-sm-3 p-sm-2"},d.a.createElement("div",{className:"card bg-info text-white shadow-lg"},d.a.createElement("div",{className:"card-body"},d.a.createElement("h5",{className:"card-title"},"Special title treatment"),d.a.createElement("p",{className:"card-text"},"With supporting text below as a natural lead-in to additional content."),d.a.createElement("a",{href:"#",className:"btn btn-light"},"Go somewhere")))),d.a.createElement("div",{className:"col-sm-3 p-sm-2"},d.a.createElement("div",{className:"card bg-dark text-white shadow-lg"},d.a.createElement("div",{className:"card-body"},d.a.createElement("h5",{className:"card-title"},"Special title treatment"),d.a.createElement("p",{className:"card-text"},"With supporting text below as a natural lead-in to additional content."),d.a.createElement("a",{href:"#",className:"btn btn-light"},"Go somewhere")))))))))},C=a(17),D=a(19),T=a(14),Y=a.n(T);var R=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){E.a.post("/api/users/login",e).then(function(e){console.log({res:e.data});var a=e.data,n=a.token,r=a.user;localStorage.setItem("jwtToken",n),localStorage.setItem("user",r),v(n);var s=x()(n);t(w(s))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(function(e){var t=e.loginUser,a=e.auth,n=e.errors,r=Object(i.useState)({email:"",password:"",errors:{}}),s=Object(p.a)(r,2),l=s[0],o=s[1],c=Object(m.useHistory)();Object(i.useEffect)(function(){a.isAuthenticated&&c.push("/dashboard")},[a.isAuthenticated,c]),Object(i.useEffect)(function(){n&&o(function(e){return Object(D.a)({},e,{errors:n})})},[n]);var u=function(e){o(Object(D.a)({},l,Object(C.a)({},e.target.id,e.target.value)))};return d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row mt-5"},d.a.createElement("div",{className:"col-md-4 mx-auto mt-5 card shadow-lg"},d.a.createElement("div",{className:"card-body p-1"},d.a.createElement("h2",{className:"text-center text-primary mt-3"},"Login"),d.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var a={email:l.email,password:l.password};t(a)},className:"white"},d.a.createElement("label",{htmlFor:"email"},"Email"),d.a.createElement("input",{onChange:u,value:l.email,error:l.errors.email,id:"email",type:"email",className:Y()("form-control",{invalid:l.errors.email})}),d.a.createElement("span",{className:"text-danger"},l.errors.email),d.a.createElement("br",null),d.a.createElement("label",{htmlFor:"password"},"Password"),d.a.createElement("input",{onChange:u,value:l.password,error:l.errors.password,id:"password",type:"password",className:Y()("form-control",{invalid:l.errors.password})}),d.a.createElement("span",{className:"text-danger"},l.errors.password),d.a.createElement("p",{className:"text-center pb-0 mt-2"},d.a.createElement("button",{type:"submit",className:"btn btn-large btn-primary mt-2 px-5"},"Login")))))))}),A=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return console.log("not found"),d.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col s12 center-align"},d.a.createElement("h1",null,"Not Found"))))}}]),t}(i.Component),M=a(179),U=Object(u.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(M.a)(e,["component","auth"]);return d.a.createElement(m.Route,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?d.a.createElement(t,e):d.a.createElement(m.Redirect,{to:"/login"})}}))}),_=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this))).onChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col s8 offset-s2"},d.a.createElement(c.b,{to:"/",className:"btn-flat waves-effect"},d.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),d.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},d.a.createElement("h4",null,d.a.createElement("b",null,"Register")," below"),d.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",d.a.createElement(c.b,{to:"/login"},"Log in"))),d.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("input",{onChange:this.onChange,value:this.state.name,id:"name",type:"text",error:e.name,className:Y()("",{invalid:e.name})}),d.a.createElement("label",{htmlFor:"name"},"Name"),d.a.createElement("span",{className:"red-text"},e.name)),d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:Y()("",{invalid:e.email})}),d.a.createElement("label",{htmlFor:"email"},"Email"),d.a.createElement("span",{className:"red-text"},e.email)),d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:Y()("",{invalid:e.password})}),d.a.createElement("label",{htmlFor:"password"},"Password"),d.a.createElement("span",{className:"red-text"},e.password)),d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("input",{onChange:this.onChange,value:this.state.password2,id:"password2",type:"password",className:Y()("",{invalid:e.password2})}),d.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),d.a.createElement("span",{className:"red-text"},e.password2)),d.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},d.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign up"))))))}}]),t}(i.Component),P=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){E.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(m.withRouter)(_)),I=a(49),L=a(180),H=a(253),F={isAuthenticated:!1,user:{},loading:!1},W={},G=Object(I.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ADD":case"USER_UPDATE":return{isAuthenticated:!H(t.payload),user:t.payload};case"SET_CURRENT_USER":return Object(D.a)({},e,{isAuthenticated:!H(t.payload),user:t.payload});case"USER_LOADING":return Object(D.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),V=[L.a],B=Object(I.e)(G,{},Object(I.d)(I.a.apply(void 0,V))),z=(a(254),a(255),a(256),a(258),a(259),a(260),a(261),a(181)),Z=a.n(z),J=a(39),$=(a(150),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a.onUserAdd=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,password:a.state.password,password2:a.state.password2,userString:a.state.userString};a.props.addUser(t,a.props.history)},a.state={name:"",email:"",password:"",password2:"",userString:"",errors:{}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.auth.user&&e.auth.user.data&&e.auth.user.data.message&&(Object(J.b)(e.auth.user.data.message,{position:J.b.POSITION.TOP_CENTER}),this.props.handleClose())}},{key:"render",value:function(){var e=this.state.errors;return d.a.createElement("div",{className:"modal ".concat(this.props.show?"show":""),id:"add-user-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"addUserModalLabel",style:{display:this.props.show?"block":"none"}},d.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},d.a.createElement("div",{className:"modal-content"},d.a.createElement("div",{className:"modal-header"},d.a.createElement("h5",{className:"modal-title",id:"addUserModalLabel"},"Add User"),d.a.createElement("button",{type:"button",className:"close",onClick:this.props.handleClose,"aria-label":"Close"},d.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),d.a.createElement("div",{className:"modal-body"},d.a.createElement("form",{noValidate:!0,onSubmit:this.onUserAdd,id:"add-user"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"name"},"Name"),d.a.createElement("input",{onChange:this.onChange,value:this.state.name,id:"name",type:"text",className:Y()("form-control",{invalid:e.name})}),d.a.createElement("span",{className:"text-danger"},e.name)),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"email"},"Email"),d.a.createElement("input",{onChange:this.onChange,value:this.state.email,id:"email",type:"email",className:Y()("form-control",{invalid:e.email})}),d.a.createElement("span",{className:"text-danger"},e.email)),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"userString"},"userString"),d.a.createElement("input",{onChange:this.onChange,value:this.state.userString,id:"userString",type:"text",className:Y()("form-control",{invalid:e.userString})}),d.a.createElement("span",{className:"text-danger"},e.email)),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"password"},"Password"),d.a.createElement("input",{onChange:this.onChange,value:this.state.password,id:"password",type:"password",className:Y()("form-control",{invalid:e.password})}),d.a.createElement("span",{className:"text-danger"},e.password)),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),d.a.createElement("input",{onChange:this.onChange,value:this.state.password2,id:"password2",type:"password",className:Y()("form-control",{invalid:e.password2})}),d.a.createElement("span",{className:"text-danger"},e.password2)))),d.a.createElement("div",{className:"modal-footer"},d.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.props.handleClose},"Close"),d.a.createElement("button",{form:"add-user",type:"submit",className:"btn btn-primary",onClick:this.onUserAdd},"Add User")))))}}]),t}(i.Component)),Q=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{addUser:function(e,t){return function(t){E.a.post("/api/users/user-add",e).then(function(e){return t({type:"USER_ADD",payload:e})}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(m.withRouter)($)),q=a(30),K=a.n(q),X=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){"user-update-name"===e.target.id&&a.setState({name:e.target.value}),"user-update-email"===e.target.id&&a.setState({email:e.target.value}),"user-update-password"===e.target.id&&a.setState({password:e.target.value})},a.onUserUpdate=function(e){e.preventDefault();var t={_id:a.state.id,name:a.state.name,email:a.state.email,password:a.state.password};a.props.updateUser(t)},a.state={id:a.props.record.id,name:a.props.record.name,email:a.props.record.email,password:"",errors:{}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.record&&this.setState({id:e.record.id,name:e.record.name,email:e.record.email}),e.errors&&this.setState({errors:e.errors}),void 0!==e.auth&&void 0!==e.auth.user&&void 0!==e.auth.user.data&&void 0!==e.auth.user.data.message&&e.auth.user.data.success&&(K()("#update-user-modal").modal("hide"),Object(J.b)(e.auth.user.data.message,{position:J.b.POSITION.TOP_CENTER}))}},{key:"render",value:function(){var e=this.state.errors;return d.a.createElement("div",null,d.a.createElement("div",{className:"modal fade",id:"update-user-modal"},d.a.createElement("div",{className:"modal-dialog modal-lg"},d.a.createElement("div",{className:"modal-content"},d.a.createElement("div",{className:"modal-header"},d.a.createElement("h4",{className:"modal-title"},"Update User"),d.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),d.a.createElement("div",{className:"modal-body"},d.a.createElement("form",{noValidate:!0,onSubmit:this.onUserUpdate,id:"update-user"},d.a.createElement("input",{onChange:this.onChange,value:this.state.id,id:"user-update-id",type:"text",className:"d-none"}),d.a.createElement("div",{className:"row mt-2"},d.a.createElement("div",{className:"col-md-3"},d.a.createElement("label",{htmlFor:"name"},"Name")),d.a.createElement("div",{className:"col-md-9"},d.a.createElement("input",{onChange:this.onChange,value:this.state.name,id:"user-update-name",type:"text",error:e.name,className:Y()("form-control",{invalid:e.name})}),d.a.createElement("span",{className:"text-danger"},e.name))),d.a.createElement("div",{className:"row mt-2"},d.a.createElement("div",{className:"col-md-3"},d.a.createElement("label",{htmlFor:"email"},"Email")),d.a.createElement("div",{className:"col-md-9"},d.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"user-update-email",type:"email",className:Y()("form-control",{invalid:e.email})}),d.a.createElement("span",{className:"text-danger"},e.email))),d.a.createElement("div",{className:"row mt-2"},d.a.createElement("div",{className:"col-md-3"},d.a.createElement("label",{htmlFor:"password"},"Password")),d.a.createElement("div",{className:"col-md-9"},d.a.createElement("input",{"data-reset-input":!0,autoComplete:"",onChange:this.onChange,error:e.password,id:"user-update-password",type:"password",className:Y()("form-control",{invalid:e.password})}),d.a.createElement("span",{className:"text-danger"},e.password))))),d.a.createElement("div",{className:"modal-footer"},d.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),d.a.createElement("button",{form:"update-user",type:"submit",className:"btn btn-primary"},"Update User"))))))}}]),t}(d.a.Component),ee=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{updateUser:function(e){return function(t){E.a.post("/api/users/user-update",e).then(function(e){return t({type:"USER_UPDATE",payload:e})}).catch(function(e){return console.log({err:e})})}}})(Object(m.withRouter)(X)),te=function(){Object(u.d)(function(e){return e.auth}),Object(u.c)();var e=[{key:"_id",text:"\u05de\u05d6\u05d4\u05d4",className:"id",align:"center",sortable:!0},{key:"name",text:"\u05e9\u05dd",className:"name",align:"center",sortable:!0},{key:"email",text:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",className:"email",align:"center",sortable:!0},{key:"date",text:"\u05ea\u05d0\u05e8\u05d9\u05da",className:"date",align:"center",sortable:!0},{key:"action",text:"\u05e4\u05e2\u05d5\u05dc\u05d4",className:"action",width:100,align:"center",sortable:!1,cell:function(e){return d.a.createElement(i.Fragment,null,d.a.createElement("button",{"data-toggle":"modal","data-target":"#update-user-modal",className:"btn btn-primary btn-sm",onClick:function(){return f(e)},style:{marginLeft:"5px"}},d.a.createElement("i",{className:"fa fa-edit"})),d.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return v(e)}},d.a.createElement("i",{className:"fa fa-trash"})))}}],t=Object(i.useState)([]),a=Object(p.a)(t,2),n=a[0],r=a[1],s=Object(i.useState)({id:"",name:"",email:"",password:"",password2:""}),l=Object(p.a)(s,2),o=l[0],c=l[1];Object(i.useEffect)(function(){m()},[]);var m=function(){E.a.post("/api/users/user-data").then(function(e){r(e.data)}).catch(function(e){console.error(e)})},f=function(e){c(e)},v=function(e){E.a.post("/api/users/user-delete",{_id:e._id}).then(function(e){200===e.status&&(Object(J.b)(e.data.message,{position:J.b.POSITION.TOP_CENTER}),m())}).catch(function(e){console.error(e)})};return d.a.createElement("div",null,d.a.createElement(h,null),d.a.createElement("div",{className:"d-flex",id:"wrapper"},d.a.createElement(O,null),d.a.createElement(Q,null),d.a.createElement(ee,{record:o}),d.a.createElement("div",{id:"page-content-wrapper",dir:"rtl"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("button",{className:"btn btn-outline-primary float-left mt-3 ml-2","data-toggle":"modal","data-target":"#add-user-modal"},d.a.createElement(b.a,{icon:g.a})," \u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05ea\u05de\u05e9"),d.a.createElement("h1",{className:"mt-2 text-primary"},"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"),d.a.createElement(Z.a,{config:{page_size:10,length_menu:[10,20,50],filename:"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd",no_data_text:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd!",button:{excel:!0,print:!0,csv:!0},language:{length_menu:"\u05d4\u05e6\u05d2 _MENU_ \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d1\u05db\u05dc \u05d3\u05e3",filter:"\u05e1\u05e0\u05df \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea...",info:"\u05de\u05e6\u05d9\u05d2 _START_ \u05e2\u05d3 _END_ \u05de\u05ea\u05d5\u05da _TOTAL_ \u05e8\u05e9\u05d5\u05de\u05d5\u05ea",pagination:{first:"\u05e8\u05d0\u05e9\u05d5\u05df",previous:"\u05e7\u05d5\u05d3\u05dd",next:"\u05d4\u05d1\u05d0",last:"\u05d0\u05d7\u05e8\u05d5\u05df"}},show_length_menu:!0,show_filter:!0,show_pagination:!0,show_info:!0},records:n,columns:e,onPageChange:function(e){console.log("OnPageChange",e)}}))),d.a.createElement(J.a,null)))},ae=a(106),ne=a(26),re=a.n(ne),se=a(43),le=a(427),oe=a(421),ce=a(433),me=a(428),ie=a(429),de=a(431),ue=a(430),pe=a(134),he=a(22),be=a.n(he),ge=(a(383),a(419)),fe=a(423),Ee=a(424),ve=a(425),Ne=a(426),xe=Object(ge.a)(function(e){var t;return t={width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:"70vh"},Object(C.a)(t,e.breakpoints.down("sm"),{maxHeight:"60vh"}),Object(C.a)(t,"modal",{transition:"all 0.5s ease-in-out"}),t}),we=function(e){var t=new Date(e),a=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();return"".concat(a,"/").concat(n,"-").concat(r)},ye=function(e){var t=e.event,a=e.onClose,n=function(){var e=Object(se.a)(re.a.mark(function e(a){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("YOUR_ENDPOINT/".concat(t.id,"/status"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})});case 3:if(e.sent.ok){e.next=6;break}throw new Error("Network response was not ok.");case 6:alert("\u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05ea\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to update event status:",e.t0),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05ea\u05d5\u05e8");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}();if(!t)return null;var r=function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return d.a.createElement("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",id:"my-modal"},d.a.createElement("div",{className:"relative top-20 mx-auto pb-5 px-5 border w-96 shadow-lg rounded-md bg-white"},d.a.createElement("div",{className:""},d.a.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-3 mb-2 text-center"},t.title),d.a.createElement("div",{className:"mt-3 text-right"},d.a.createElement("div",{className:"mt-2 px-1 py-3"},d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05ea\u05d9\u05d0\u05d5\u05e8:")," ",t.description),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05ea\u05d0\u05e8\u05d9\u05da:")," ",new Date(t.date).toLocaleDateString()," (",function(e){var t=new Date,a=new Date(e).getTime()-t.getTime(),n=Math.ceil(a/864e5);return n>0?"\u05d1\u05e2\u05d5\u05d3 ".concat(n," \u05d9\u05de\u05d9\u05dd"):n<0?"\u05dc\u05e4\u05e0\u05d9 ".concat(Math.abs(n)," \u05d9\u05de\u05d9\u05dd"):"\u05d4\u05d9\u05d5\u05dd"}(t.date),")"),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4:")," ",r(t.startTime)," "),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd:")," ",r(t.endTime)),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05e9\u05dd \u05d4\u05dc\u05e7\u05d5\u05d7:")," ",t.customerName),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05d8\u05dc\u05e4\u05d5\u05df \u05d4\u05dc\u05e7\u05d5\u05d7:"),d.a.createElement("a",{href:"tel:".concat(t.customerPhone),style:{marginRight:"8px"}},t.customerPhone),d.a.createElement("a",{href:"https://wa.me/".concat(t.customerPhone),target:"_blank",style:{display:"inline-block"}},d.a.createElement("img",{src:"https://cdn-icons-png.flaticon.com/256/174/174879.png",alt:"WhatsApp",style:{width:"24px",verticalAlign:"middle"},className:"mx-2"}))),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05de\u05d9\u05e7\u05d5\u05dd:"),d.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(t.location)),target:"_blank",rel:"noopener noreferrer"},t.location)),d.a.createElement("p",{className:"text-sm text-gray-500"},d.a.createElement("strong",null,"\u05e9\u05d9\u05e8\u05d5\u05ea\u05d9\u05dd:")," ",t.services.join(", "))),d.a.createElement(function(){return d.a.createElement("div",{className:"mt-4"},d.a.createElement("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700"},"\u05e2\u05d3\u05db\u05df \u05e1\u05d8\u05d8\u05d5\u05e1:"),d.a.createElement("select",{id:"status",name:"status",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",defaultValue:"",onChange:function(e){return n(e.target.value)}},d.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05e1\u05d8\u05d8\u05d5\u05e1..."),d.a.createElement("option",{value:"\u05de\u05d0\u05d5\u05e9\u05e8"},"\u05de\u05d0\u05d5\u05e9\u05e8"),d.a.createElement("option",{value:"\u05de\u05d1\u05d5\u05d8\u05dc"},"\u05de\u05d1\u05d5\u05d8\u05dc"),d.a.createElement("option",{value:"\u05d1\u05d4\u05de\u05ea\u05e0\u05d4"},"\u05d1\u05d4\u05de\u05ea\u05e0\u05d4")))},null),d.a.createElement("div",{className:"flex flex-col items-center px-4 py-3"},d.a.createElement("button",{onClick:a,className:"px-4 py-2 bg-gray-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 mb-2"},"\u05e1\u05d2\u05d5\u05e8"),d.a.createElement("a",{href:function(){var e="\u05e9\u05dc\u05d5\u05dd ".concat(t.customerName,", \u05d4\u05e0\u05d4 \u05e4\u05e8\u05d8\u05d9 \u05d4\u05ea\u05d5\u05e8 \u05e9\u05dc\u05da:%0A\u05ea\u05d9\u05d0\u05d5\u05e8: ").concat(t.description,"%0A\u05ea\u05d0\u05e8\u05d9\u05da: ").concat(new Date(t.date).toLocaleDateString(),"%0A\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4: ").concat(r(t.startTime),"%0A\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd: ").concat(r(t.endTime),"%0A\u05de\u05d9\u05e7\u05d5\u05dd: ").concat(t.location,"%0A\u05e9\u05d9\u05e8\u05d5\u05ea\u05d9\u05dd: ").concat(t.services.join(", "));return"https://wa.me/972".concat(t.customerPhone,"?text=").concat(e)}(),target:"_blank",rel:"noopener noreferrer"},d.a.createElement("button",{className:"px-4 py-2 bg-green-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-300"},"\u05e9\u05dc\u05d7 \u05e4\u05e8\u05d8\u05d9 \u05ea\u05d5\u05e8 \u05d1-WhatsApp")))))))},Oe=function(e){var t=e.events,a=xe(),n=Object(i.useState)(null),r=Object(p.a)(n,2),s=r[0],l=r[1];return d.a.createElement("div",{className:"p-3"},d.a.createElement(oe.a,{className:a.listRoot},d.a.createElement(fe.a,{component:"nav","aria-label":"events list"},t.map(function(e,a){return d.a.createElement(d.a.Fragment,{key:a},d.a.createElement(Ee.a,{button:!0,style:{textAlign:"right"},onClick:function(){return function(e){l(e)}(e)}},d.a.createElement(ve.a,{primary:e.title,secondary:"\u05de\u05ea\u05d7\u05d9\u05dc: ".concat(we(e.startTime)," \u05e2\u05d3: ").concat(we(e.endTime))})),a<t.length-1&&d.a.createElement(Ne.a,null))}))),d.a.createElement(ye,{event:s,onClose:function(){return l(null)}}))};a(385),be.a.locale("he");var je=Object(pe.b)(be.a),ke={allDay:"\u05db\u05dc \u05d4\u05d9\u05d5\u05dd",previous:"\u05e7\u05d5\u05d3\u05dd",next:"\u05d4\u05d1\u05d0",today:"\u05d4\u05d9\u05d5\u05dd",month:"\u05d7\u05d5\u05d3\u05e9",week:"\u05e9\u05d1\u05d5\u05e2",day:"\u05d9\u05d5\u05dd",agenda:"\u05e1\u05d3\u05e8 \u05d9\u05d5\u05dd",date:"\u05ea\u05d0\u05e8\u05d9\u05da",time:"\u05e9\u05e2\u05d4",event:"\u05d0\u05d9\u05e8\u05d5\u05e2"},Se=function(){var e=Object(i.useState)([]),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)(!1),s=Object(p.a)(r,2),l=s[0],o=s[1],c=Object(i.useState)({title:"",start:"",end:"",user:localStorage.getItem("user")}),m=Object(p.a)(c,2),u=m[0],b=m[1],g=function(){var e=Object(se.a)(re.a.mark(function e(){var t,a,r;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/events/month");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r=a.map(function(e){return Object(D.a)({},e,{title:"\u05d8\u05d9\u05e4\u05d5\u05dc \u05e9\u05dc ".concat(e.customerName)})}),n(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching events:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),f=function(){o(!0)},E=function(){o(!1)};return Object(i.useEffect)(function(){g()},[]),d.a.createElement(d.a.Fragment,null,d.a.createElement(h,null),d.a.createElement("div",{className:"block md:hidden"},d.a.createElement(le.a,{variant:"contained",color:"primary",className:"m-4",onClick:f},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05e8\u05d5\u05e2")),d.a.createElement("div",{className:"flex flex-col sm:flex-row-reverse p-3"},d.a.createElement("div",{className:"md:w-1/3 w-full p-3"},d.a.createElement(Oe,{events:a})),d.a.createElement(oe.a,{className:"md:w-2/3 w-full p-3 mt-4 md:mt-0"},d.a.createElement("div",{className:"hidden md:block"},d.a.createElement(le.a,{variant:"contained",color:"primary",className:"m-4",onClick:f},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05e8\u05d5\u05e2")),d.a.createElement(pe.a,{localizer:je,events:a.map(function(e){return Object(D.a)({},e,{title:e.title,start:new Date(e.startTime),end:new Date(e.endTime)})}),messages:ke,startAccessor:"start",endAccessor:"end",style:{height:500},rtl:!0,onShowMore:function(e,t){console.log("\u05d0\u05d9\u05e8\u05d5\u05e2\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd:",e),console.log("\u05ea\u05d0\u05e8\u05d9\u05da:",t)}}))),d.a.createElement(ce.a,{open:l,onClose:E,scroll:"body",maxWidth:!1,fullWidth:!0,dir:"rtl",PaperProps:{style:{maxWidth:"100%",width:"auto",maxHeight:"calc(100% - 64px)",overflowY:"auto"}}},d.a.createElement(me.a,{className:"text-right"},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05d9\u05e8\u05d5\u05e2 \u05d7\u05d3\u05e9"),d.a.createElement(ie.a,{className:"text-right"},d.a.createElement(de.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u05db\u05d5\u05ea\u05e8\u05ea \u05d0\u05d9\u05e8\u05d5\u05e2",type:"text",fullWidth:!0,value:u.title,onChange:function(e){return b(Object(D.a)({},u,{title:e.target.value}))},className:"my-2"}),d.a.createElement(de.a,{id:"start",label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4",type:"date",value:u.start,onChange:function(e){return b(Object(D.a)({},u,{start:e.target.value}))},className:"my-2",InputLabelProps:{shrink:!0}}),d.a.createElement(de.a,{id:"end",label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd",type:"date",value:u.end,onChange:function(e){return b(Object(D.a)({},u,{end:e.target.value}))},className:"my-2",InputLabelProps:{shrink:!0}})),d.a.createElement(ue.a,null,d.a.createElement(le.a,{onClick:E,color:"primary"},"\u05d1\u05d9\u05d8\u05d5\u05dc"),d.a.createElement(le.a,{onClick:function(){n([].concat(Object(ae.a)(a),[Object(D.a)({},u,{start:new Date(u.start),end:new Date(u.end)})])),o(!1),b({title:"",start:"",end:""}),g()},color:"primary"},"\u05e9\u05de\u05d5\u05e8"))))},Ce=a(81),De=function(e){var t=e.selectedDate,a=e.selectedSlot,n=e.customerDetails;e.onClose;return d.a.createElement("div",{style:{padding:"16px",marginBottom:"8px",position:"relative"}},d.a.createElement(Ce.a,{variant:"h3",align:"center",gutterBottom:!0},"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05ea\u05d5\u05e8"),d.a.createElement("div",{style:{padding:"8px 16px"}},d.a.createElement(Ce.a,{variant:"body1",align:"center",paragraph:!0},"\u05e9\u05dc\u05d5\u05dd! \u05e0\u05e4\u05d2\u05e9 \u05d1",d.a.createElement("strong",null,t)," \u05d1\u05e9\u05e2\u05d4 ",d.a.createElement("strong",null,a)," \u05dc\u05d8\u05d9\u05e4\u05d5\u05d7 \u05d1\u05e1\u05d8\u05d5\u05d3\u05d9\u05d5 \u05e9\u05dc\u05d9."),d.a.createElement(Ce.a,{variant:"body1",align:"center",paragraph:!0},"\u05e1\u05d9\u05d3\u05e8\u05e0\u05d5 \u05d8\u05d9\u05e4\u05d5\u05dc\u05d9\u05dd \u05dc",d.a.createElement("strong",null,n.services.join(", ")),".")),d.a.createElement(Ce.a,{variant:"body2",align:"center",paragraph:!0},"\u05de\u05e6\u05e4\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!"),d.a.createElement(Ce.a,{variant:"body2",align:"center",paragraph:!0},"\u05e8\u05d1\u05e7\u05d4        \u05dc\u05d2 \u05d2'\u05dc"),d.a.createElement("div",{style:{marginTop:"16px"}},d.a.createElement(Ce.a,{variant:"body2",align:"center",color:"textSecondary",paragraph:!0},d.a.createElement("em",null,"*\u05e0\u05d9\u05ea\u05df \u05d2\u05dd \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05d0\u05ea \u05d4\u05ea\u05d5\u05e8 \u05dc\u05d9\u05d5\u05de\u05df \u05e9\u05dc\u05da.")),d.a.createElement(Ce.a,{variant:"body2",align:"center",color:"textSecondary",paragraph:!0},d.a.createElement("em",null,"**\u05d1\u05d9\u05d8\u05d5\u05dc\u05d9\u05dd \u05de\u05ea\u05d0\u05e4\u05e9\u05e8\u05d9\u05dd \u05e8\u05e7 \u05d1\u05d8\u05dc\u05e4\u05d5\u05df."))))},Te=function(e){var t=e.showModal,a=e.setShowModal,n=e.selectedDate,r=e.selectedSlot,s=e.handleSaveAppointment,l=e.addToGoogleCalendar,o=e.createICalEvent,c=e.customerDetails,m=e.setCustomerDetails,u=e.services,h=Object(i.useState)(!1),b=Object(p.a)(h,2),g=b[0],f=b[1],E=Object(i.useState)(!0),v=Object(p.a)(E,2),N=v[0],x=v[1],w=function(){var e=Object(se.a)(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:f(!0);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return d.a.createElement("div",{className:"fixed inset-0 z-10 overflow-hidden flex items-center justify-center ".concat(t?"block":"hidden"," ")},d.a.createElement("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),d.a.createElement("div",{className:"bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full"},d.a.createElement("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 relative"},d.a.createElement("button",{type:"button",className:"absolute top-0 left-0 m-2 p-2 text-gray-400 hover:text-gray-500",onClick:function(){return a(!1)}},d.a.createElement("span",{className:"sr-only"},"Close"),d.a.createElement("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},d.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),g?d.a.createElement(d.a.Fragment,null,d.a.createElement(De,{customerDetails:c,selectedDate:n,selectedSlot:r})):d.a.createElement("div",{className:"sm:flex sm:items-start"},d.a.createElement("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full"},d.a.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Select Services"),d.a.createElement("div",{className:"mb-4"},d.a.createElement("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 mb-1"},"Customer Name"),d.a.createElement("input",{type:"text",id:"customerName",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:c.name,onChange:function(e){return m(function(t){return Object(D.a)({},t,{name:e.target.value})})}})),d.a.createElement("div",{className:"mb-4"},d.a.createElement("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-700 mb-1"},"Customer Phone"),d.a.createElement("input",{type:"tel",id:"customerPhone",pattern:"^\\d{9}$",title:"Phone number must be exactly 9 digits.",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:c.phone,onChange:function(e){var t=e.target.value;/^\d*$/.test(t)?(x(!0),m(function(e){return Object(D.a)({},e,{phone:t.slice(0,10)})})):x(!1)}}),d.a.createElement("p",{className:"text-red-500 ".concat(N?"hidden ":"block")},"\u05e0\u05d0 \u05dc\u05d4\u05db\u05e0\u05d9\u05e1 \u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05ea\u05e7\u05d9\u05df")),d.a.createElement("div",{className:"grid grid-cols-1 gap-4"},u.map(function(e){return d.a.createElement("div",{key:e,className:"flex items-center"},d.a.createElement("input",{id:e,type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:c.services.includes(e),onChange:function(){return function(e){m(function(t){return Object(D.a)({},t,{services:t.services.includes(e)?t.services.filter(function(t){return t!==e}):[].concat(Object(ae.a)(t.services),[e])})})}(e)}}),d.a.createElement("label",{htmlFor:e,className:"ml-2 block text-sm text-gray-900"},e))}))))),g?d.a.createElement("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},d.a.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-indigo-600 shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-'white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm mx-2",onClick:l},"Add to Google Calendar"),d.a.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-indigo-600 shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-'white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm mx-2",onClick:o},"Download ICAL")):d.a.createElement("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},d.a.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-indigo-600 shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-'white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm mx-1",onClick:w},"Save Appointment"),d.a.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm mx-1",onClick:function(){return a(!1)}},"Cancel"))))},Ye=a(109),Re=function(){return d.a.createElement("header",{className:"bg-blue-600 text-white py-4 shadow-md"},d.a.createElement("div",{className:"container mx-auto flex justify-between items-center"},d.a.createElement("div",{className:"flex justify-end items-start flex-col"},d.a.createElement("span",{className:"flex items-center"},d.a.createElement("img",{src:"".concat("","/flowMatic3.png"),alt:"Logo",className:"h-10 w-10 mr-2"}),d.a.createElement("h1",{className:"text-2xl font-bold m-0 p-0"},"FlowMatic")),d.a.createElement("p",{className:"italic mx-5"},"\u05e0\u05d9\u05d4\u05d5\u05dc \u05ea\u05d5\u05e8\u05d9\u05dd \u05d1\u05e7\u05dc\u05d9\u05e7"))))},Ae=function(){return d.a.createElement("footer",{className:"fixed bottom-0 bg-gray-800 text-white p-4 mt-8 w-full"},d.a.createElement("div",{className:"container mx-auto text-center"},d.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," \u05de\u05ea\u05d6\u05de\u05df \u05e4\u05d2\u05d9\u05e9\u05d5\u05ea \u05e9\u05dc flowMatic. \u05db\u05dc \u05d4\u05d6\u05db\u05d5\u05d9\u05d5\u05ea \u05e9\u05de\u05d5\u05e8\u05d5\u05ea."),d.a.createElement("p",null,"\u05e0\u05d5\u05e6\u05e8 \u05e2\u05dc \u05d9\u05d3\u05d9 \u05dc\u05d9\u05d3\u05d5\u05e8 \u05de\u05dc\u05d9\u05d7")))},Me=a(210),Ue=function(){var e=Object(Me.useParams)().user;console.log({user:e});var t=Object(i.useMemo)(function(){var e=new Date;return e.setHours(0,0,0,0),e},[]),a=be()().add(1,"days").format("YYYY-MM-DD"),n=Object(i.useState)(a||""),r=Object(p.a)(n,2),s=r[0],l=r[1],o=Object(i.useState)([]),c=Object(p.a)(o,2),m=c[0],u=c[1],h=Object(i.useState)(!1),b=Object(p.a)(h,2),g=b[0],f=b[1],E=Object(i.useState)(""),v=Object(p.a)(E,2),N=v[0],x=(v[1],Object(i.useState)(null)),w=Object(p.a)(x,2),y=w[0],O=w[1],j=Object(i.useState)(!1),k=Object(p.a)(j,2),S=k[0],C=k[1],D=Object(i.useState)({name:"",phone:"",services:[]}),T=Object(p.a)(D,2),Y=T[0],R=T[1],A=Object(i.useMemo)(function(){return new Date(s)},[s]);Object(i.useEffect)(function(){s&&U(s)},[s]);var M,U=function(){var t=Object(se.a)(re.a.mark(function t(a){var n,r;return re.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,fetch("/api/appointments?date=".concat(a),{method:"GET",headers:{"Content-Type":"application/json",Username:e}});case 4:if((n=t.sent).ok){t.next=8;break}throw new Error("Network response was not ok");case 8:return t.next=10,n.json();case 10:r=t.sent,_(r),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(1),console.log({err:t.t0}),console.log("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05e4\u05ea \u05e4\u05e0\u05d5\u05d9\u05d5\u05ea \u05ea\u05d5\u05e8\u05d9\u05dd"),_(null);case 19:return t.prev=19,f(!1),t.finish(19);case 22:case"end":return t.stop()}},t,null,[[1,14,19,22]])}));return function(e){return t.apply(this,arguments)}}(),_=function(e){t.setHours(0,0,0,0);var a=new Date(s);if(a.setHours(0,0,0,0),a<=t)return u([]);u(e.availableSlots||[])},P=function(){var t=Object(se.a)(re.a.mark(function t(){var a;return re.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={date:s,time:y,services:Y.services,customerName:Y.name,customerPhone:Y.phone,description:y,startTime:be()("".concat(s," ").concat(y),"YYYY-MM-DD HH:mm").toISOString(),endTime:be()("".concat(s," ").concat(y),"YYYY-MM-DD HH:mm").add(30,"minutes").toISOString(),location:"\u05e8\u05d7\u05d5\u05d1 \u05d1\u05d9\u05e0\u05de\u05d9\u05df \u05de\u05d9\u05e0\u05e5 39, \u05e4\u05ea\u05d7 \u05ea\u05e7\u05d5\u05d5\u05d4",user:e},t.prev=1,t.next=4,fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if(t.sent.ok){t.next=7;break}throw new Error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05ea\u05d5\u05e8");case 7:U(s),alert("\u05d4\u05ea\u05d5\u05e8 \u05e0\u05e9\u05de\u05e8 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),alert("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05ea\u05d5\u05e8");case 14:case"end":return t.stop()}},t,null,[[1,11]])}));return function(){return t.apply(this,arguments)}}();return d.a.createElement(d.a.Fragment,null,d.a.createElement(Re,{title:"\u05e7\u05d1\u05d9\u05e2\u05ea \u05ea\u05d5\u05e8"}),d.a.createElement("div",{className:"container mx-auto mt-8 text-right overflow-y-auto",dir:"rtl"},d.a.createElement("div",{className:"bg-white p-6 shadow-sm rounded-md"},d.a.createElement("div",{className:"mb-4"},d.a.createElement("label",{htmlFor:"appointment-date",className:"block text-sm font-medium text-gray-700"},"\u05d1\u05d7\u05e8 \u05ea\u05d0\u05e8\u05d9\u05da"),d.a.createElement("div",{className:"relative max-w-sm"},d.a.createElement("input",{type:"date",id:"appointment-date",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s,onChange:function(e){l(e.target.value)},min:a,defaultValue:a}))),g&&d.a.createElement("div",{className:"flex justify-center"},d.a.createElement("div",{className:"spinner-border text-primary",role:"status"},d.a.createElement("span",{className:"sr-only"},"\u05d8\u05d5\u05e2\u05df..."))),N&&d.a.createElement("div",{className:"bg-red-500 text-white font-bold rounded p-2"},N),s&&d.a.createElement("div",{class:"mt-2 py-3 px-2 mb-4 text-sm text-blue-800 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400",role:"alert"},d.a.createElement("span",{class:"font-medium"},"                       \u05d4\u05ea\u05d5\u05e8 \u05e9\u05e0\u05d1\u05d7\u05e8 \u05d4\u05d5\u05d0 \u05d1\u05ea\u05d0\u05e8\u05d9\u05da ",be()(s).format("DD/MM/YYYY")," - ",(M=A,new Ye.HDate(M).toString("h")))),!g&&m.length>0&&d.a.createElement("div",{className:"flex flex-wrap justify-center"},m.map(function(e){return d.a.createElement("button",{type:"button",className:"btn btn-outline-primary m-1",key:e,onClick:function(){return function(e){O(e),C(!0)}(e)}},e)}))),S&&d.a.createElement(Te,{showModal:S,setShowModal:C,selectedDate:s,selectedSlot:y,handleSaveAppointment:P,addToGoogleCalendar:function(){var e={title:"Appointment FUN",description:"Appointment on ".concat(s," at ").concat(y),startTime:be()("".concat(s," ").concat(y),"YYYY-MM-DD HH:mm").toISOString(),endTime:be()("".concat(s," ").concat(y),"YYYY-MM-DD HH:mm").add(30,"minutes").toISOString(),location:"\u05e8\u05d7\u05d5\u05d1 \u05d1\u05d9\u05e0\u05de\u05d9\u05df \u05de\u05d9\u05e0\u05e5 39, \u05e4\u05ea\u05d7 \u05ea\u05e7\u05d5\u05d5\u05d4"},t="https://calendar.google.com/calendar/render?action=TEMPLATE&text=".concat(encodeURIComponent(e.title),"&dates=").concat(be()(e.startTime).format("YYYYMMDDTHHmmssZ"),"/").concat(be()(e.endTime).format("YYYYMMDDTHHmmssZ"),"&details=").concat(encodeURIComponent(e.description),"&location=").concat(encodeURIComponent(e.location));window.open(t,"_blank")},createICalEvent:function(){var e="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Your Company//Your Product//EN\nBEGIN:VEVENT\nUID:".concat((new Date).getTime(),"@yourdomain.com\nDTSTAMP:").concat(be()().format("YYYYMMDDTHHmmss"),"Z\nDTSTART:").concat(be()("".concat(s," ").concat(y),"YYYY-MM-DD HH:mm").format("YYYYMMDDTHHmmss"),"Z\nDTEND:").concat(be()("".concat(s," ").concat(y),"YYYY-MM-DD HH:mm").add(30,"minutes").format("YYYYMMDDTHHmmss"),"Z\nSUMMARY:Appointment\nDESCRIPTION:Appointment on ").concat(s," at ").concat(y,"\nLOCATION:\u05e8\u05d7\u05d5\u05d1 \u05d1\u05d9\u05e0\u05de\u05d9\u05df \u05de\u05d9\u05e0\u05e5 39, \u05e4\u05ea\u05d7 \u05ea\u05e7\u05d5\u05d5\u05d4\nEND:VEVENT\nEND:VCALENDAR"),t=new Blob([e],{type:"text/calendar"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="appointment.ics",document.body.appendChild(n),n.click(),document.body.removeChild(n)},customerDetails:Y,setCustomerDetails:R,services:["Gel Nails","Nail Treatment","Manicure","Pedicure"]})),d.a.createElement(Ae,null))};if(localStorage.jwtToken){var _e=localStorage.jwtToken;v(_e);var Pe=x()(_e);B.dispatch(w(Pe));var Ie=Date.now()/1e3;Pe.exp<Ie&&(B.dispatch(y()),window.location.href="./login")}var Le=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return d.a.createElement(u.a,{store:B},d.a.createElement(c.a,null,d.a.createElement("div",{className:"App",dir:"rtl"},d.a.createElement(m.Switch,null,d.a.createElement(m.Route,{exact:!0,path:"/",component:R}),d.a.createElement(m.Route,{exact:!0,path:"/register",component:P}),d.a.createElement(m.Route,{exact:!0,path:"/login",component:R}),d.a.createElement(m.Route,{exact:!0,path:"/:user/AppointmentScheduler",component:Ue}),d.a.createElement(m.Route,{exact:!0,path:"/AppointmentScheduler",component:Ue}),d.a.createElement(m.Switch,null,d.a.createElement(U,{exact:!0,path:"/dashboard",component:S}),d.a.createElement(U,{exact:!0,path:"/users",component:te}),d.a.createElement(U,{exact:!0,path:"/events",component:Se})),d.a.createElement(m.Route,{exact:!0,path:"*",component:A})))))}}]),t}(i.Component);t.a=Le},222:function(e,t,a){e.exports=a(223)},223:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),n=a.n(t),r=a(8),s=a.n(r),l=(a(229),a(211)),o=a(30),c=a.n(o);window.jQuery=c.a,window.$=c.a,e.jQuery=c.a,s.a.render(n.a.createElement(l.a,null),document.getElementById("root")),c()("#menu-toggle").click(function(){c()("#wrapper").toggleClass("toggled")}),c()('.modal[data-reset="true"]').on("shown.bs.modal",function(){return c()("input[name != 'timestamp']").val("")}),c()(".modal").on("shown.bs.modal",function(){return c()('input[data-reset-input="true"]').val("")})}.call(this,a(34))},229:function(e,t,a){},254:function(e,t,a){}},[[222,1,2]]]);
//# sourceMappingURL=main.eb8cbf1f.chunk.js.map